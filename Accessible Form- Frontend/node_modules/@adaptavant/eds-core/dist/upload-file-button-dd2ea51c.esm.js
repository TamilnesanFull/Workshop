'use client';
import { useRef, cloneElement } from 'react';
import { jsxs, Fragment, jsx } from 'react/jsx-runtime';

const UploadFileButton = ({
  accept,
  children,
  multiple,
  onFilesChange
}) => {
  const inputRef = useRef(null);
  const handleClick = () => {
    var _inputRef$current;
    return (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.click();
  };
  const handleInputChange = event => onFilesChange([...(event.target.files ?? [])]);
  return /*#__PURE__*/jsxs(Fragment, {
    children: [/*#__PURE__*/cloneElement(children, {
      onClick: handleClick
    }), /*#__PURE__*/jsx("input", {
      accept: accept,
      "data-testid": "upload-file-button",
      hidden: true,
      multiple: multiple,
      name: "file",
      onChange: handleInputChange,
      ref: inputRef,
      type: "file",
      value: ""
    })]
  });
};

export { UploadFileButton };
