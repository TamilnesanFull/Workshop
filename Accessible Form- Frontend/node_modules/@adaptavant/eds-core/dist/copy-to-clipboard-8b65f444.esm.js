'use client';
import { useState } from 'react';

function useCopyToClipboard() {
  const [copiedText, setCopiedText] = useState(null);
  const copyToClipboard = async text => {
    var _navigator;
    if (!((_navigator = navigator) !== null && _navigator !== void 0 && _navigator.clipboard)) {
      return {
        hasError: true,
        errorMessage: 'Unsupported browser'
      };
    }
    try {
      await navigator.clipboard.writeText(text);
      setCopiedText(text);
      return {
        hasError: false
      };
    } catch (error) {
      setCopiedText(null);
      return {
        hasError: true,
        errorMessage: 'Copy failed'
      };
    }
  };
  return [copyToClipboard, copiedText];
}

export { useCopyToClipboard };
